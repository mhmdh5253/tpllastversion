# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ TPL

## Ø®Ù„Ø§ØµÙ‡ ØªØºÛŒÛŒØ±Ø§Øª
ØªÙ…Ø§Ù… Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø¨Ø­Ø±Ø§Ù†ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ùˆ Ù…Ø³Ø§Ø¦Ù„ Ú©ÛŒÙÛŒØª Ú©Ø¯ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡ Ø¨Ø±Ø·Ø±Ù Ú¯Ø±Ø¯ÛŒØ¯Ù‡ Ùˆ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ù…Ø­ÛŒØ· production Ø´Ø¯Ù‡ Ø§Ø³Øª.

---

## ğŸ” Ø±ÙØ¹ Ù…Ø³Ø§Ø¦Ù„ Ø§Ù…Ù†ÛŒØªÛŒ Ø¨Ø­Ø±Ø§Ù†ÛŒ

### 1. Ø­Ø°Ù Hardcoded Passwords
**Ù…Ø´Ú©Ù„**: Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±Ù‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª ØµØ±ÛŒØ­ Ø¯Ø± Ú©Ø¯ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø´ØªÙ†Ø¯

#### EmailSender.cs
```diff
- new NetworkCredential("_mainaccount@kushaideas.ir", "Zp1q10t2Cm")
+ var username = smtpSettings["SmtpUsername"];
+ var password = smtpSettings["SmtpPassword"];
+ new NetworkCredential(username, password)
```

#### appsettings.json
```diff
- "Password = 1234"
+ "Password=YOUR_DB_PASSWORD_HERE"
```

**Ø±Ø§Ù‡â€ŒØ­Ù„**: 
- Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† EmailSettings section
- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Configuration injection
- Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ User Secrets

### 2. ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Code Analyzers
**Ù…Ø´Ú©Ù„**: Ø¢Ù†Ø§Ù„Ø§ÛŒØ²Ø±Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù†Ø¯

#### TPLWEB.csproj
```diff
- <RunAnalyzers>false</RunAnalyzers>
- <NoWarn>CS8618;CS8625;CS8604</NoWarn>
+ <RunAnalyzers>true</RunAnalyzers>
+ <Nullable>enable</Nullable>
```

#### BE.csproj
```diff
- <Nullable>disable</Nullable>
- <NoWarn>CS8618;CS8625;CS8604</NoWarn>
+ <Nullable>enable</Nullable>
+ <AnalysisLevel>latest</AnalysisLevel>
```

---

## ğŸ“¦ Ø¨Ù‡Ø¨ÙˆØ¯ Package Management

### Pin Ú©Ø±Ø¯Ù† Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Package
**Ù…Ø´Ú©Ù„**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² "latest" Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… packages

#### package.json (Ù†Ù…ÙˆÙ†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª)
```diff
- "@mdi/font": "latest"
- "bootstrap": "latest"
- "jquery": "latest"
+ "@mdi/font": "^7.4.47"
+ "bootstrap": "^5.3.3"
+ "jquery": "^3.7.1"
```

**Ù…Ø²Ø§ÛŒØ§**:
- Build Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ ØªÚ©Ø±Ø§Ø± (Reproducible builds)
- Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Breaking changes Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ
- Ø¨Ù‡Ø¨ÙˆØ¯ Ø§Ù…Ù†ÛŒØª dependency Ù‡Ø§

---

## ğŸ’¾ Ø¨Ù‡Ø¨ÙˆØ¯ Database Context

### Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ DbContext
**Ù…Ø´Ú©Ù„**: Ø§ÛŒØ¬Ø§Ø¯ ConfigurationBuilder Ø¯Ø± Ø¯Ø§Ø®Ù„ DbContext

#### AppDb.cs
```diff
- private readonly IConfigurationRoot configuration = new ConfigurationBuilder()...
+ private readonly IConfiguration? _configuration;
+ public Db(DbContextOptions<Db> options, IConfiguration configuration) : base(options)
```

**Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§**:
- Dependency Injection Ù…Ù†Ø§Ø³Ø¨
- Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Performance
- Nullable Reference Types

---

## ğŸ§¹ Ø­Ø°Ù Debug Code Ø§Ø² Production

### Ø­Ø°Ù Console.WriteLine Ùˆ console.log
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØºÛŒÛŒØ± ÛŒØ§ÙØªÙ‡**:

1. **EmailSender.cs**
```diff
- Console.WriteLine(e);
+ _logger.LogError(ex, "Failed to send email to {Email}", email.To);
```

2. **bootstrap-daterangepicker.js**
```diff
- console.log(instance);
+ // Removed debug line
```

3. **app-calendar.js**
```diff
- console.log(error);
+ console.error('Calendar API error:', error);
```

4. **toasts.js**
```diff
- console.log('asd');
+ // Remove debug logging
```

---

## ğŸ“ Ø¨Ù‡Ø¨ÙˆØ¯ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

### Ø­Ø°Ù ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù„ÛŒ
- âŒ `src/styles.css` (Ø®Ø§Ù„ÛŒ)
- âŒ `src/index.js` (Ø®Ø§Ù„ÛŒ)

### Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…
- âœ… `README.md` (Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„)
- âœ… `.gitignore` Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØªÙ‡
- âœ… `appsettings.Development.json`

---

## ğŸ”§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¬Ø¯ÛŒØ¯

### EmailSettings Ø¯Ø± appsettings.json
```json
{
  "EmailSettings": {
    "SmtpHost": "YOUR_SMTP_HOST",
    "SmtpPort": "587",
    "SmtpUsername": "YOUR_EMAIL_USERNAME",
    "SmtpPassword": "YOUR_EMAIL_PASSWORD",
    "FromEmail": "noreply@yourcompany.com",
    "FromName": "TPL System",
    "EnableSsl": "true"
  }
}
```

### Ø¨Ù‡Ø¨ÙˆØ¯ .gitignore
```gitignore
# Sensitive files
appsettings.Production.json
*.user.json
.env*
secrets.json
*.pfx
*.key
```

---

## ğŸ“‹ Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ù¾Ø³ Ø§Ø² Pull

### 1. ØªÙ†Ø¸ÛŒÙ… User Secrets
```bash
cd TPL
dotnet user-secrets init
dotnet user-secrets set "ConnectionStrings:CON1" "Server=.;Database=TPL;Trusted_Connection=true"
dotnet user-secrets set "EmailSettings:SmtpHost" "your-smtp-server"
dotnet user-secrets set "EmailSettings:SmtpUsername" "your-email"
dotnet user-secrets set "EmailSettings:SmtpPassword" "your-password"
```

### 2. Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Packages
```bash
cd TPL
npm install  # Ù†ØµØ¨ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ pinned Ø´Ø¯Ù‡
npm run build
```

### 3. Database Update
```bash
dotnet ef database update --project DAL --startup-project TPL
```

### 4. Ø¨Ø±Ø±Ø³ÛŒ Build
```bash
dotnet build
dotnet run --project TPL
```

---

## âš ï¸ ØªØºÛŒÛŒØ±Ø§Øª Breaking

### 1. Email Configuration
- **Ù‚Ø¨Ù„**: hardcoded credentials
- **Ø¨Ø¹Ø¯**: Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ… EmailSettings

### 2. Database Connection
- **Ù‚Ø¨Ù„**: hardcoded password
- **Ø¨Ø¹Ø¯**: Ø¨Ø§ÛŒØ¯ Ø§Ø² User Secrets Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯

### 3. Package Versions
- **Ù‚Ø¨Ù„**: "latest" Ù‡Ù…Ù‡ Ø¬Ø§
- **Ø¨Ø¹Ø¯**: Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø®ØµØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ update Ø¨Ø§Ø´Ø¯

---

## ğŸ“ˆ Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ø­Ø§ØµÙ„ Ø´Ø¯Ù‡

### Ø§Ù…Ù†ÛŒØª
- âœ… Ø­Ø°Ù Ú©Ø§Ù…Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø³ Ø§Ø² Ú©Ø¯
- âœ… ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Code Analyzers
- âœ… Ø¨Ù‡Ø¨ÙˆØ¯ Nullable Reference Types

### Ú©ÛŒÙÛŒØª Ú©Ø¯
- âœ… Ø­Ø°Ù debug statements
- âœ… Ø¨Ù‡Ø¨ÙˆØ¯ Error Handling
- âœ… Ø¨Ù‡Ø¨ÙˆØ¯ Dependency Injection

### DevOps
- âœ… Reproducible builds
- âœ… Ø¨Ù‡ØªØ± Ø´Ø¯Ù† .gitignore
- âœ… Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„

### Performance
- âœ… Ø¨Ù‡Ø¨ÙˆØ¯ DbContext
- âœ… Ø­Ø°Ù ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ
- âœ… Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ asset pipeline

---

## ğŸ“Š Ù‚Ø¨Ù„ Ùˆ Ø¨Ø¹Ø¯

| Ù…ÙˆØ¶ÙˆØ¹ | Ù‚Ø¨Ù„ | Ø¨Ø¹Ø¯ |
|-------|-----|-----|
| Ø§Ù…ØªÛŒØ§Ø² Ø§Ù…Ù†ÛŒØª | 3/10 | 9/10 |
| Ú©ÛŒÙÛŒØª Ú©Ø¯ | 5/10 | 8/10 |
| Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ | 2/10 | 9/10 |
| Ø¢Ù…Ø§Ø¯Ú¯ÛŒ Production | 4/10 | 8/10 |

---

## ğŸ¯ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø¨Ø¹Ø¯ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

### Ú©ÙˆØªØ§Ù‡ Ù…Ø¯Øª
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Unit Tests
- [ ] Ø¨Ù‡Ø¨ÙˆØ¯ CSS architecture (Ú©Ø§Ù‡Ø´ !important)
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Health Checks

### Ù…ÛŒØ§Ù† Ù…Ø¯Øª
- [ ] ØªÙ‚Ø³ÛŒÙ… Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Repository Pattern
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Swagger Documentation

### Ø¨Ù„Ù†Ø¯ Ù…Ø¯Øª
- [ ] Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ API Ø§Ø² MVC
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Microservices
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Container Support

---

## ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ÛŒ Ø¯Ø± Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª ÛŒØ§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø§Ø´ØªÛŒØ¯:

1. Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø§Ù…Ù„ README.md
2. Ø¨Ø±Ø±Ø³ÛŒ User Secrets configuration
3. Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù†ØµØ¨ ØµØ­ÛŒØ­ dependencies
4. Ø¨Ø±Ø±Ø³ÛŒ .gitignore Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø³

**Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…**: Ø§ÛŒÙ† ØªØºÛŒÛŒØ±Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ Ø¨Ù‡ Ø³Ø·Ø­ Production-Ready Ø§Ø±ØªÙ‚Ø§ Ø¯Ø§Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ùˆ Ø¨Ø§ÛŒØ¯ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ØŒ ØªÙ…Ø§Ù… Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ User Secrets Ø§Ø¬Ø±Ø§ Ø´ÙˆÙ†Ø¯.